
[强缓存协商缓存](https://juejin.cn/post/6844903838768431118)

|  强缓存   | 协商缓存  |
|  ----  | ----  |
| 命中不发送请求  | 发送请求判断是否走协商缓存 |
| 命中返回200 | 协商成功返回304 |
| 优先访问memory cache,其次是disk cache，<br>最后是请求网络资源   | / |
| Expires：过期时间，如果设置了时间，则浏览器会在设置的时间内直接读取缓存，不再请求  | Last-Modified是服务器响应请求时，response header返回该资源文件在服务器最后被修改的时间。<br>If-Modified-Since则是客户端再次发起该请求时，携带上次请求返回的Last-Modified值 |
| Cache-Control：当值设为max-age=300时，则代表在这个请求正确返回时间（浏览器也会记录下来）的5分钟内再次加载资源，就会命中强缓存。 | Etag是服务器响应请求时，response header，返回当前资源文件的一个唯一标识(由服务器生成)。<br>If-None-Match是客户端再次发起该请求时，携带上次请求返回的唯一标识Etag值，通过此字段值告诉服务器该资源上次请求返回的唯一标识值。服务器收到该请求后，发现该请求头中含有If-None-Match，则会根据If-None-Match的字段值与该资源在服务器的Etag值做对比，一致则返回304，代表资源无更新，继续使用缓存文件；不一致则重新返回资源文件，状态码为200。
|
##### 刷新对于强缓存和协商缓存的影响
1. 当ctrl+f5强制刷新网页时，直接从服务器加载，跳过强缓存和协商缓存。
2. 当f5刷新网页时，跳过强缓存，但是会检查协商缓存。
3. 浏览器地址栏中写入URL，回车 浏览器发现缓存中有这个文件了，不用继续请求了，直接去缓存拿。（最快）